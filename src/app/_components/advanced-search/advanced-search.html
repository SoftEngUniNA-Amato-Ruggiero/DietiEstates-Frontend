<form [formGroup]="searchForm" class="d-flex flex-column gap-3">

    <app-map-component [inputLayer]="searchResultsLayerGroup"
        (mapCenter)="searchForm.patchValue({ center: $event })"></app-map-component>
    <br />


    <div ngbAccordion class="container p-3">
        <div ngbAccordionItem>
            <h2 ngbAccordionHeader>
                <button ngbAccordionButton>Advanced Search</button>
            </h2>
            <div ngbAccordionCollapse>
                <div ngbAccordionBody>

                    <mat-form-field class="container-fluid">
                        <mat-label>Search Radius (degrees)</mat-label>
                        <input matInput type="number" formControlName="distance" min="0.1" step="0.1">
                    </mat-form-field>

                    <app-tags-field (tags)="reactiveKeywords.set($event)"></app-tags-field>

                    <mat-form-field class="container-fluid">
                        <mat-label>Minimum Size (mÂ²)</mat-label>
                        <input matInput type="number" formControlName="minSize" min="0" step="1">
                    </mat-form-field>

                    <mat-form-field class="container-fluid">
                        <mat-label>Minimum Number of Rooms</mat-label>
                        <input matInput type="number" formControlName="minNumberOfRooms" min="0" step="1">
                    </mat-form-field>

                    <mat-form-field class="container-fluid">
                        <mat-label>Maximum Floor</mat-label>
                        <input matInput type="number" formControlName="maxFloor" min="0" step="1">
                    </mat-form-field>

                    <mat-checkbox formControlName="hasElevator">Has Elevator</mat-checkbox>

                    <br />

                    <button (click)="onSaveSearch()" class="btn btn-primary m-3">Save search</button>
                </div>
            </div>
        </div>


    </div>
    <!-- <button mat-raised-button color="primary" (click)="onSearch()">Search</button> -->
</form>

<br />

<span>
    <h3>Search Form Values</h3>
    <pre>
        {{searchForm.value | json}}
        </pre>
</span>

@if(selectedInsertion()){
<app-insertion-view [insertion]="selectedInsertion()!"></app-insertion-view>
<br />
}