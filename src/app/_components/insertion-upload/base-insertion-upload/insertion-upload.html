<form [formGroup]="insertionForm" class="d-flex flex-column gap-3">
    <div>
        <p>Select a location on the map:</p>
        <app-map-component [inputLayer]="clickMarkerLayer" (placeSelected)="onPlaceSelected($event)"
            (clickedAt)="onMapClicked($event)"></app-map-component>

        <br />

        <label for="address" class="form-label">Address:</label>
        <div class="container border d-flex align-items-center">
            @if(insertionForm.controls.address.value) {
            <span class="m-2">
                {{ insertionForm.controls.address.value.features[0].properties!['formatted'] ?? 'N/A' }}
            </span>
            } @else {
            <span class="text-muted m-2">No address selected. Please select an address on the map.</span>
            }
        </div>
        <br />
    </div>

    <div>
        <label for="description" class="form-label">Description:</label>
        <quill-editor id="description" formControlName="description" class="form-control"></quill-editor>
    </div>

    <div class="d-flex flex-column">
        <label for="tags" class="form-label">Tags:</label>
        <app-tags-field (tags)="insertionForm.controls.tags.setValue($event)"></app-tags-field>
    </div>
</form>