<form [formGroup]="insertionForm" class="d-flex flex-column gap-3">
    <div>
        <p>Select a location on the map:</p>
        <app-map-component [inputLayer]="clickMarkerLayer" (placeSelected)="onPlaceSelected($event)"
            (clickedAt)="onMapClicked($event)"></app-map-component>

        <br />

        <label for="address" class="form-label">Address:</label>
        <div class="container border d-flex align-items-center">
            @if(insertionForm.controls.address.value) {
            <span class="m-2">
                {{ insertionForm.controls.address.value.features[0].properties!['formatted'] ?? 'N/A' }}
            </span>
            } @else {
            <span class="text-muted m-2">No address selected. Please select an address on the map.</span>
            }
        </div>
        <br />
    </div>

    <div>
        <quill-editor id="description" formControlName="description" class="form-control"></quill-editor>
    </div>

    <div class="d-flex flex-column">
        <app-tags-field (tags)="insertionForm.controls.tags.setValue($event)"></app-tags-field>
    </div>

    <mat-form-field class="container-fluid">
        <mat-label>Minimum Size (mÂ²)</mat-label>
        <input matInput type="number" formControlName="minSize" min="0" step="1">
    </mat-form-field>

    <mat-form-field class="container-fluid">
        <mat-label>Minimum Number of Rooms</mat-label>
        <input matInput type="number" formControlName="minNumberOfRooms" min="0" step="1">
    </mat-form-field>

    <mat-form-field class="container-fluid">
        <mat-label>Maximum Floor</mat-label>
        <input matInput type="number" formControlName="maxFloor" min="0" step="1">
    </mat-form-field>

    <mat-checkbox formControlName="hasElevator">Has Elevator</mat-checkbox>
</form>