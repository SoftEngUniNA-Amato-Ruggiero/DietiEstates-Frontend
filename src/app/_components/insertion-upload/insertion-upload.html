<div class="container">
    <h2>Upload Insertion For Sale</h2>

    <form [formGroup]="insertionForm" (ngSubmit)="onSubmit()" class="d-flex flex-column gap-3">
        <div>
            <input id="address" type="hidden" formControlName="address"
                class="container-fluid d-flex justify-content-center" />

            <app-map-component [inputLayer]="clickMarkerLayer" (clickedAt)="onMapClicked($event)"></app-map-component>
        </div>

        <div>
            <label for="price" class="form-label">Price:</label>
            <input id="price" type="number" formControlName="price" class="form-control" />
        </div>

        <div>
            <label for="description" class="form-label">Description:</label>
            <quill-editor id="description" formControlName="description" class="form-control"></quill-editor>
        </div>

        <div class="d-flex flex-column">
            <label for="tags" class="form-label">Tags:</label>
            <mat-form-field>
                <mat-label>Enter a tag:</mat-label>
                <mat-chip-grid #reactiveChipGrid aria-label="Enter a tag" [formControl]="insertionForm.controls.tags">
                    @for (keyword of reactiveKeywords(); track keyword) {
                    <mat-chip-row (removed)="removeReactiveKeyword(keyword)">
                        {{keyword}}
                        <button matChipRemove [attr.aria-label]="'remove tag ' + keyword">
                            <mat-icon>cancel</mat-icon>
                        </button>
                    </mat-chip-row>
                    }
                </mat-chip-grid>
                <input placeholder="New tag..." [matChipInputFor]="reactiveChipGrid"
                    (matChipInputTokenEnd)="addReactiveKeyword($event)" />
            </mat-form-field>
        </div>

        <button type="submit" class="btn btn-primary mb-2">Upload</button>
    </form>
</div>